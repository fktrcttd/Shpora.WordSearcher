using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Shpora.WordSearcher.Helpers
{
    class LetterHelper
    {
        private static Dictionary<string, char> MatrixToLetter { get; } = new Dictionary<string, char>()
        {
            {"0001000001010000101000111110010001010000011000001", 'а'},
            {"1111111100000010000001111111100000110000011111111", 'б'},
            {"1111111100000110000011111110100000110000011111111", 'в'},
            {"1111111100000010000001000000100000010000001000000", 'г'},
            {"0111110010001001000100100010011111010000011000001", 'д'},
            {"1111111100000010000001111111100000010000001111111", 'е'},
            {"0100010000000011111111000000111111110000001111111", 'ё'},
            {"1001001010101000111000001000001110001010101001001", 'ж'},
            {"1111111000000100000011111110000000100000011111111", 'з'},
            {"1000001100001110001011001001101000111000011000001", 'и'},
            {"1011101100001110001011001001101000111000011000001", 'й'},
            {"1000001100011010110001100000101100010001101000001", 'к'},
            {"0001000001010001000100100010100000110000011000001", 'л'},
            {"1000001110001110101011001001100000110000011000001", 'м'},
            {"1000001100000110000011111111100000110000011000001", 'н'},
            {"0001000001010001000101100011010001000101000001000", 'о'},
            {"1111111100000110000011000001100000110000011000001", 'п'},
            {"1111111100000110000011111111100000010000001000000", 'р'},
            {"1111111100000010000001000000100000010000001111111", 'с'},
            {"1111111000100000010000001000000100000010000001000", 'т'},
            {"1000001010001000101000001000001000001000001000000", 'у'},
            {"1111111100100110010011111111000100000010000001000", 'ф'},
            {"1000001010001000101000001000001010001000101000001", 'х'},
            {"1000010100001010000101000010100001011111110000001", 'ц'},
            {"1000001100000110000011111111000000100000010000001", 'ч'},
            {"1001001100100110010011001001100100110010011111111", 'ш'},
            {"1001001100100110010011001001100100111111110000001", 'щ'},
            {"1100000010000001000000111111010000101000010111111", 'ъ'},
            {"1000001100000110000011111001100100110010011111001", 'ы'},
            {"1000000100000010000001111111100000110000011111111", 'ь'},
            {"0011110010000110000010001110100000101000010011110", 'э'},
            {"1011111101000110100011110001101000110100011011111", 'ю'},
            {"1111111100000110000011111111000011100110011100001", 'я'},

        };

        public static char GetLetterFromMatrix(List<string> widedMatrix)
        {
            try
            {
                StringBuilder result = new StringBuilder(string.Empty);
                foreach (var line in widedMatrix)
                    result.Append(new string(line.Take(7).ToArray()));

                return MatrixToLetter[result.ToString()];
            }
            catch (Exception e)
            {
                return 'E';
            }

        }
    }
}
